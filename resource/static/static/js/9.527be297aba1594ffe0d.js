webpackJsonp([9],{TgyC:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("Dd8w"),l=a.n(n),i=a("NYxO"),s={name:"CartPage",components:{PayStepIndicator:a("7WGw").a},data:function(){return{multipleSelection:[]}},computed:l()({},Object(i.e)("cart",["items"]),{total:function(){return this.multipleSelection.reduce(function(t,e){return t+e.price*e.amount},0)}}),mounted:function(){this.toggleSelection(this.items)},methods:l()({},Object(i.d)("cart",["adjustCartItems","removeCartItem"]),Object(i.b)("cart",["setupSettlementBillWithDefaultValue"]),{adjustAmount:function(t,e,a){var n=l()({},t);n.amount=e-a,this.adjustCartItems(n)},removeItem:function(t){var e=this;this.removeCartItem(t),this.$nextTick(function(){return e.toggleSelection(e.items)})},toggleSelection:function(t){var e=this;t?t.forEach(function(t){e.$refs.cartTable.toggleRowSelection(t)}):this.$refs.cartTable.clearSelection()},goSettlement:function(){this.setupSettlementBillWithDefaultValue({items:this.multipleSelection}),this.$router.push("/settle")},handleSelectionChange:function(t){this.multipleSelection=t}})},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"header",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("我的购物车")]),t._v(" "),a("span",{staticClass:"comment"},[t._v("温馨提示：产品是否购买成功，以最终支付为准哦，请尽快完成结算")])]),t._v(" "),a("div",{staticClass:"content"},[a("el-table",{ref:"cartTable",staticStyle:{width:"100%"},attrs:{data:t.items},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",fixed:"","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{label:"图片",width:"150"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{staticStyle:{width:"120px"},attrs:{src:t.row.cover}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"title",label:"商品名称",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"price",label:"单价",width:"100",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{label:"数量",width:"170",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input-number",{attrs:{size:"mini",min:0,max:10,value:e.row.amount},on:{change:function(a,n){t.adjustAmount(e.row,a,n)}}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"小计",width:"120",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"subtotal"},[t._v(t._s(e.row.price*e.row.amount)+" 元")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{plain:"",size:"mini",type:"danger"},on:{click:function(a){return t.removeItem(e.row.id)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("div",{staticClass:"actions"},[t._v("\n        "+t._s("购物车中共计 "+t.items.length+" 件商品，已选择其中 "+t.multipleSelection.length+" 件")+"\n        "),a("div",{staticClass:"total"},[t._v("\n          总计： "),a("span",{staticClass:"pay_price"},[t._v(t._s(this.total))]),t._v(" 元\n          "),a("div",{staticClass:"pay_action"},[a("el-button",{staticStyle:{position:"relative",top:"-6px"},attrs:{size:"large",type:"primary",disabled:this.total<=0},on:{click:t.goSettlement}},[t._v("￥ 选好了，去结算\n            ")])],1)])])],1)]),t._v(" "),a("PayStepIndicator",{attrs:{step:1}})],1)},staticRenderFns:[]};var r=a("VU/8")(s,o,!1,function(t){a("fn1c")},"data-v-1316e37e",null);e.default=r.exports},fn1c:function(t,e){}});